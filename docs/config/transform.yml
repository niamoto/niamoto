# Niamoto Transform Configuration
# This file defines data transformations and statistical analyses
# Each transformation group creates widgets for visualization

# Transformations are defined as a list of groups
# Each group processes data for a specific entity type (taxon, plot, shape)

# EXAMPLE: Taxon transformations
# - group_by: taxon                    # Entity type: 'taxon', 'plot', or 'shape'
#   source:
#     data: occurrences                # Main data source table
#     grouping: taxon_ref              # Reference table for grouping
#     relation:                        # How to relate data to reference
#       plugin: nested_set             # Plugin for hierarchical data
#       key: taxon_ref_id              # Foreign key field
#       fields:                        # Additional fields for hierarchy
#         parent: parent_id
#         left: lft
#         right: rght
#
#   widgets_data:                      # Define widgets for visualization
#     general_info:                    # Widget identifier
#       plugin: field_aggregator       # Plugin to aggregate fields
#       params:
#         fields:
#           - source: taxon_ref        # Source table
#             field: full_name         # Source field
#             target: name             # Output field name
#           - source: occurrences
#             field: id
#             target: count
#             transformation: count    # Count occurrences
#
#     distribution_map:
#       plugin: geospatial_extractor
#       params:
#         source: occurrences
#         field: geo_pt                # Geometry field
#         format: geojson              # Output format

# EXAMPLE: Plot transformations
# - group_by: plot
#   source:
#     data: plot_stats                 # Pre-calculated statistics
#     grouping: plot_ref
#     relation:
#       plugin: stats_loader           # Load pre-calculated stats
#       key: plot_id
#
#   widgets_data:
#     general_info:
#       plugin: field_aggregator
#       params:
#         fields:
#           - source: plots
#             field: name
#             target: plot_name
#           - source: plots
#             field: elevation
#             target: elevation
#             units: m                 # Add units for display
#
#     top_species:
#       plugin: class_object_series_extractor
#       params:
#         source: plot_stats
#         class_object: top10_species  # Extract top 10 species
#         size_field:
#           input: class_name
#           output: species
#         value_field:
#           input: class_value
#           output: counts

# AVAILABLE PLUGINS:
# Data extraction:
# - field_aggregator: Combine fields from different sources
# - direct_attribute: Extract single field value
# - geospatial_extractor: Extract and format spatial data
# - multi_column_extractor: Extract multiple columns

# Statistical analysis:
# - statistical_summary: Calculate statistics (min, max, mean, etc.)
# - binned_distribution: Create histogram bins
# - categorical_distribution: Count by categories
# - top_ranking: Find top N items
# - binary_counter: Count true/false values

# Time series:
# - time_series_analysis: Analyze temporal data (e.g., phenology)

# Complex transformations:
# - transform_chain: Chain multiple transformations
# - class_object_series_extractor: Extract series from class objects
# - custom_calculator: Apply custom formulas

# Shape-specific:
# - shape_processor: Process and simplify geometries
# - class_object_categories_mapper: Map categories from stats

# Start with an empty list and add transformations as needed
